# Skolkovo Hack 2022

  Проект содержит разделение на back-end и front-end, где исходный код распределен в server и client.

Чтобы запустить на своей машине, делаем следующее:

  `$ nano /etc/nginx/conf.d/default.conf`
  
Вставляем следующее 
"  server { <br/>
      listen 80; <br/>
      server_name <домен, на котором нужно расположить>; <br/>
        root <путь до папки client/dist>; <br/>
        index index.html; <br/>
      } <br/>
      location /* { <br/>
        proxy_pass localhost:<порт, который укажете в .env EXPRESS_PORT>; <br/>
      } <br/>
" 

  Теперь главная страница ссылается на index.html, а всё остальное на сервер бэкенда. 

При первом запуске сервера прописывааем, чтобы подтянуть все пакеты NodeJS: <br/> 
  1 `cd onemorehack/server && npm install` <br/>
  2 `cd onemorehack/client && npm install` 

Затем билдим фронт и запускаем бэк след командами(важно сначала сбилдить фронт):
  1 `cd onemorehack/server && npm start` <br/>
  2 `cd onemorehack/server && npm run build`

  После этого перейти по <домен, на котором нужно расположить>, потыкать кнопочки и если мы всё сделали правильно, то оно заработает. Если нет, ну, грустно, чо поделать, значит неправильно
  
  Если вы это читаете и не хотите вручную всё запускать на своём домене, то настоятельно рекомендую проверить домен shameoff.ru (может поменяться на skolkovo2022.shameoff.ru в будущем). Возможно, там приложение уже развернуто и корректно работает. Но это неточно
<br/>
<br/>
 Чтобы проверить работу доступных функций (обрезка видео, изменение разрешения и формата), нужно загрузить видео, затем:
 1. Изменение формата: <br/>
  1.1 зайти в server/src/index.ts, найти get-запрос с параметрами **'/change'**. <br/>
  1.2 поменять параметр outputFileName + "*ваш формат*" <br/>
  1.3 отправить get запрос **'/change'** и получить результат в  server/dist/output_files<br/> <br/>
 2. Изменение разрешения: <br/>
    1.1 зайти в server/src/index.ts, найти get-запрос с параметрами **'/reformat'**. <br/>
    1.2 в функции execute поменять параметр "*высота:ширина*" <br/>
    1.3 отправить get запрос **'/reformat'** и получить результат в  server/dist/output_files<br/> <br/>
 3. Обрезка видео: <br/>
    1.1 зайти в server/src/index.ts, найти get-запрос с параметрами **'/cutfile'**. <br/>
    1.2 в фукцие execute поменять массив параметров TimeLine (*[new TimeLine(начало, конец)],....*) <br/>
    1.3 отправить get запрос **'/cutfile'** и получить результат в  server/dist/output_files<br/> <br/>